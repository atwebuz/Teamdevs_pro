<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<form action="" onsubmit="sendTelegram(event)" class="form contact-form ajax_form mainSendForm" id="contact-form">
    <div class="leftColl">
        <div class="form-group">
            <label for="">Имя*</label>
            <input type="text" id="name" name="name" placeholder="Введите ваше имя" class="form-control" required="">
        </div>
        <div class="form-group">
            <label for="">E-mail*</label>
            <input type="email" id="email" name="email" placeholder="Введите ваш e-mail" class="form-control" required="">
        </div>
        <div class="form-group">
            <label for="">Телефон*</label>
            <input type="text" id="phone" name="phone" placeholder="+7(999) 999-99-99" class="form-control phone">
        </div>
    </div>
    <div class="rightColl">
        <div class="form-group">
            <label for="">Текст сообщения</label>
            <textarea type="text" id="message" name="comment" placeholder="Текст сообщения" class="form-control"></textarea>
        </div>
        <div class="form-group">
            <input type="submit" value="Yuborish" id="btn">
        </div>
    </div>
</form>

<script>
    var telegram_bot_id = "7031497239:AAF0EinTIcdyQf-czB-LyqmnnzbZxuFQqqA";
    var chat_id = 5676930441;

    function sendTelegram(event) {
        event.preventDefault(); // Prevent default form submission

        var u_name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var phone = document.getElementById("phone").value;
        var message = document.getElementById("message").value;

        message = "Ismi: " + u_name + "\nEmail: " + email + "\nTelefon: " + phone + "\nIzoh: " + message;

        var settings = {
            "async": true,
            "crossDomain": true,
            "url": "https://api.telegram.org/bot" + telegram_bot_id + "/sendMessage",
            "method": "POST",
            "headers": {
                "Content-Type": "application/json",
                "cache-control": "no-cache"
            },
            "data": JSON.stringify({
                "chat_id": chat_id,
                "text": message
            })
        };

        $.ajax(settings).done(function(response) {
            console.log(response);
            // Optionally, you can show a success message or perform other actions after successful submission
        });

        // Clear form fields after submission
        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("phone").value = "";
        document.getElementById("message").value = "";
    }
</script>
</body>
</html>
